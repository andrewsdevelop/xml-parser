"use strict";(self["webpackChunkxml_parser"]=self["webpackChunkxml_parser"]||[]).push([[850],{4850:function(t,e,r){r.r(e),r.d(e,{default:function(){return F}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"HomePage"},[t.loading?t._e():r("TabPine",{attrs:{xmlDom:t.xmlDom}})],1)},s=[],o=r(3796),a=r(6164),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"tab-list"},[r("div",{staticClass:"logo"}),t._l(t.tabList,(function(e,n){return r("div",{key:n,class:{tab:!0,active:t.selectedTab===e},on:{click:function(){return t.onSelectTab(e)}}},[t._v(" "+t._s(t.parsedTabName(e))+" ")])}))],2),r("div",{staticClass:"table-wrapper"},[r("XMLTable",{attrs:{rows:t.rows}})],1)])},i=[];const c=t=>{const e=[],r=t.getElementsByTagName("tab");for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const t=r[n],s=t.getAttribute("id");s&&e.push(s)}return e},u=(t,e)=>{const r=[],n=t.getElementById(e).getElementsByTagName("table")[0].getElementsByTagName("columns");for(const s in n){if(isNaN(parseInt(s,10)))continue;const t=n[s],e=t.getElementsByTagName("column"),o={};for(const r in e){const t=e[r];if(isNaN(parseInt(r,10)))continue;const n=t.getAttribute("id");n&&(o[n]=t.innerHTML.trim())}r.push(o)}return r},d=t=>{const e=[];return t.forEach((t=>{if(t.match(/old|actual/gi)){const r=-1!==e.findIndex((({name:e})=>e===f(t)));if(r)return;e.push({name:f(t),length:2})}else e.push({name:f(t),length:1})})),e},f=t=>{switch(t){case"new-data":return"Новые заявки";case"old-primary":case"actual-primary":return"Предварительные";case"actual-periodic":case"old-periodic":return"Периодические";case"vaccination-data":return"Вакцинация";case"closed-data":return"Завершенные";default:return""}};var m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",[r("thead",[r("tr",{staticClass:"main-header"},t._l(t.mainTitles,(function(e,n){return r("td",{key:n,attrs:{colspan:e.length}},[r("div",{staticClass:"th-content main"},[t._v(" "+t._s(e.name)+" ")])])})),0),r("tr",{staticClass:"second-header"},t._l(t.columnNames,(function(e,n){return r("td",{key:n},[r("div",{staticClass:"th-content"},[t._v(" "+t._s(t.parsedColNames(e))+" ")])])})),0)]),t._l(t.rows,(function(e,n){return r("tr",{key:n,staticClass:"row"},t._l(e,(function(e,n){return r("td",{key:n},[t.isLogo(n)?r("logo-td",{attrs:{logoUrl:e}}):r("div",{staticClass:"td"},[r("div",{class:{"td-content":!0,empty:""===e||0===e}},[t._v(" "+t._s(""===e?0:e)+" ")])])],1)})),0)}))],2)},p=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo-container"},[r("img",{staticClass:"logo",attrs:{src:t.validLogoUrl()}})])},g=[],b=function(t,e,r,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,r,a):s(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a};let v=class extends a.w3{constructor(...t){super(...t),(0,o.Z)(this,"logoUrl",void 0)}validLogoUrl(){let t="";try{this.logoUrl&&new URL(this.logoUrl)&&(t=this.logoUrl)}catch(e){t="https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg"}return t}};b([(0,a.fI)()],v.prototype,"logoUrl",void 0),v=b([(0,a.wA)({})],v);var y=v,w=y,x=r(1001),_=(0,x.Z)(w,h,g,!1,null,"e798f9e2",null),T=_.exports;const O={"client-tab":"Клиенты","employee-tab":"Сотрудники"},k={"client-logo":"","new-data":"","actual-primary":"Актуальные","old-primary":"Просроченные","actual-periodic":"Актуальные","old-periodic":"Просроченные","vaccination-data":"Незавершеные","closed-data":""};var C=function(t,e,r,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,r,a):s(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a};let N=class extends a.w3{constructor(...t){super(...t),(0,o.Z)(this,"rows",void 0)}isLogo(t){return t.match("logo")}mounted(){this.mainTitles}get columnNames(){const t=0!==this.rows.length?Object.keys(this.rows[0]).slice():[];return t}get mainTitles(){return d(this.columnNames)}parsedColNames(t){return k[t]??t}};C([(0,a.fI)(Array)],N.prototype,"rows",void 0),N=C([(0,a.wA)({components:{LogoTd:T}})],N);var j=N,L=j,P=(0,x.Z)(L,m,p,!1,null,"4f97ea0d",null),D=P.exports,R=function(t,e,r,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,r,a):s(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a};let Z=class extends a.w3{constructor(...t){super(...t),(0,o.Z)(this,"xmlDom",void 0),(0,o.Z)(this,"tabList",[]),(0,o.Z)(this,"selectedTab",void 0),(0,o.Z)(this,"rows",[])}mounted(){this.tabList=c(this.xmlDom),this.rows=u(this.xmlDom,this.tabList[0]),this.selectedTab=this.tabList[0]}onSelectTab(t){this.selectedTab=t,this.rows=u(this.xmlDom,t)}isSelected(t){return this.selectedTab===t}parsedTabName(t){return O[t]||t}};R([(0,a.fI)()],Z.prototype,"xmlDom",void 0),Z=R([(0,a.wA)({components:{XMLTable:D}})],Z);var E=Z,U=E,I=(0,x.Z)(U,l,i,!1,null,"db32fb16",null),A=I.exports,B=r(476),M=function(t,e,r,n){var s,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(a=(o<3?s(a):o>3?s(e,r,a):s(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a};let S=class extends a.w3{constructor(...t){super(...t),(0,o.Z)(this,"link",""),(0,o.Z)(this,"xmlDom",void 0),(0,o.Z)(this,"loading",!1)}async created(){let t;this.loading=!0;try{if(""===this.link){const e=await fetch("static/test.xml");t=await e.text()}else{const e=await fetch(new URL(this.link).href);t=await e.text()}this.xmlDom=(new DOMParser).parseFromString(t,"text/xml")}catch(e){B.error(e)}finally{this.loading=!1}}};S=M([(0,a.wA)({components:{TabPine:A}})],S);var $=S,H=$,X=(0,x.Z)(H,n,s,!1,null,null,null),F=X.exports},3796:function(t,e,r){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:function(){return n}})}}]);
//# sourceMappingURL=850.f4c6ceb5.js.map